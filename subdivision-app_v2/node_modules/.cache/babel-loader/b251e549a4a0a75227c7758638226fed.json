{"ast":null,"code":"/* \n\t----------------------------------------------------------\n\tEventEmitter : 2015-09-29 : https://sketch.io\n\t----------------------------------------------------------\n\troot.EventEmitter(object);\n\tobject.on('blah', function(){});\n\tobject.emit('blah');\n\t----------------------------------------------------------\n*/\nif (typeof galactic === 'undefined') galactic = {};\n\n(function (root) {\n  'use strict';\n\n  root.EventEmitter = function (proto) {\n    var uniqueId = 1;\n\n    function funcID(type, fn) {\n      if (typeof fn === 'function') {\n        var fnId = fn.uniqueId || (fn.uniqueId = uniqueId++);\n        return type + '.' + fnId;\n      } else {\n        console.warn(type, 'listener does not exist');\n      }\n    }\n\n    ;\n\n    function listener(type) {\n      if (proto.on[type]) {\n        return proto.on[type];\n      } else {\n        return proto.on[type] = Stack(type);\n      }\n    }\n\n    ;\n\n    function Stack(type) {\n      var stack = {}; ///\n\n      function emitter() {\n        var overrides = false;\n\n        for (var key in stack) {\n          if (stack[key].apply(proto, arguments)) {\n            overrides = true;\n          }\n        }\n\n        return overrides;\n      }\n\n      ;\n\n      emitter.add = function (fn) {\n        var fid = funcID(type, fn);\n\n        if (stack[fid] === undefined && fn) {\n          stack[fid] = fn;\n          return {\n            add: function () {\n              stack[fid] = fn;\n            },\n            remove: function () {\n              delete stack[fid];\n            }\n          };\n        }\n      };\n\n      emitter.remove = function (fn) {\n        var fid = funcID(type, fn);\n\n        if (stack[fid] !== undefined && fn) {\n          delete stack[fid];\n        }\n      };\n\n      emitter.stack = stack; // easier debugging\n\n      return emitter;\n    }\n\n    ;\n\n    proto.on = function (type, fn) {\n      return listener(type).add(fn);\n    };\n\n    proto.off = function (type, fn) {\n      if (fn) {\n        listener(type).remove(fn);\n      } else {\n        delete proto.on[type];\n      }\n    };\n\n    proto.emit = function (type) {\n      var stack = proto.on[type];\n\n      if (stack) {\n        var args = Array.prototype.slice.call(arguments).slice(1);\n        return stack.apply(proto, args);\n      }\n    };\n  };\n})(galactic);","map":{"version":3,"sources":["/Users/HTMusic/Desktop/PROJECTS/subdivision-app/subdivision-app_v2/node_modules/midi/inc/EventEmitter.js"],"names":["galactic","root","EventEmitter","proto","uniqueId","funcID","type","fn","fnId","console","warn","listener","on","Stack","stack","emitter","overrides","key","apply","arguments","add","fid","undefined","remove","off","emit","args","Array","prototype","slice","call"],"mappings":"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","sourcesContent":["/* \n\t----------------------------------------------------------\n\tEventEmitter : 2015-09-29 : https://sketch.io\n\t----------------------------------------------------------\n\troot.EventEmitter(object);\n\tobject.on('blah', function(){});\n\tobject.emit('blah');\n\t----------------------------------------------------------\n*/\n\nif (typeof galactic === 'undefined') galactic = {};\n\n(function(root) { 'use strict';\n\nroot.EventEmitter = function(proto) {\n\n\tvar uniqueId = 1;\n\tfunction funcID(type, fn) {\n\t\tif (typeof fn === 'function') {\n\t\t\tvar fnId = fn.uniqueId || (fn.uniqueId = uniqueId++);\n\t\t\treturn type + '.' + fnId;\n\t\t} else {\n\t\t\tconsole.warn(type, 'listener does not exist');\n\t\t}\n\t};\n\n\tfunction listener(type) {\n\t\tif (proto.on[type]) {\n\t\t\treturn proto.on[type];\n\t\t} else {\n\t\t\treturn proto.on[type] = Stack(type);\n\t\t}\n\t};\n\n\tfunction Stack(type) {\n\t\tvar stack = {};\n\t\t///\n\t\tfunction emitter() {\n\t\t\tvar overrides = false;\n\t\t\tfor (var key in stack) {\n\t\t\t\tif (stack[key].apply(proto, arguments)) {\n\t\t\t\t\toverrides = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn overrides;\n\t\t};\n\n\t\temitter.add = function(fn) {\n\t\t\tvar fid = funcID(type, fn);\n\t\t\tif (stack[fid] === undefined && fn) {\n\t\t\t\tstack[fid] = fn;\n\t\t\t\treturn {\n\t\t\t\t\tadd: function() {\n\t\t\t\t\t\tstack[fid] = fn;\n\t\t\t\t\t},\n\t\t\t\t\tremove: function() {\n\t\t\t\t\t\tdelete stack[fid];\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\temitter.remove = function(fn) {\n\t\t\tvar fid = funcID(type, fn);\n\t\t\tif (stack[fid] !== undefined && fn) {\n\t\t\t\tdelete stack[fid];\n\t\t\t}\n\t\t};\n\t\t\n\t\temitter.stack = stack; // easier debugging\n\n\t\treturn emitter;\n\t};\n\n\tproto.on = function(type, fn) {\n\t\treturn listener(type).add(fn);\n\t};\n\n\tproto.off = function(type, fn) {\n\t\tif (fn) {\n\t\t\tlistener(type).remove(fn);\n\t\t} else {\n\t\t\tdelete proto.on[type];\n\t\t}\n\t};\n\n\tproto.emit = function(type) {\n\t\tvar stack = proto.on[type];\n\t\tif (stack) {\n\t\t\tvar args = Array.prototype.slice.call(arguments).slice(1);\n\t\t\treturn stack.apply(proto, args);\n\t\t}\n\t};\n};\n\n})(galactic);"]},"metadata":{},"sourceType":"script"}